<!doctype html><html lang=cn-zh><head><meta name=generator content="Hugo 0.81.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><title>Hi, I'm Vimiix</title><meta name=description content="A blog maintained by Vimiix."><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml href=/index.xml title="Hi, I'm Vimiix"></head><body><header>====================<br>== Hi, I'm Vimiix ==<br>====================<div style=float:right>Practice makes perfect (ง •̀_•́)ง</div><br><p><nav><a href=https://www.vimiix.com/><b>首页</b></a>.
<a href=/posts/><b>文章列表</b></a>.
<a href=/categories/><b>分类</b></a>.
<a href=/tags/><b>标签</b></a>.
<a href=/friends/><b>友链</b></a>.
<a href=/about/><b>关于</b></a>.
<a href=/index.xml><b>RSS</b></a>.</nav></p></header><main><article><h1><a href=https://www.vimiix.com/posts/2019-08-29-how-to-ensure-a-type-implements-an-interface/>Golang如何确保一个类型实现了某个interface</a></h1><b><time>2019.08.29 16:22</time></b>
<a href=/tags/note>note</a>
<a href=/tags/interface>interface</a>
<a href=/tags/golang>golang</a><div>在 golang 中，接口（interface）代表一种『协议』存在，它是一个声明了多个方法的集合。
接口是被隐式实现的，也就是说，我们在开发中定义一个类型（type）的时候，不需要声明这个类型实现了哪个接口。在使用的时候往往通过断言来的 ok-idom 来进行类型判断该类型是否实现了目标接口，放置调用方法失败抛出 panic：
if value, ok := AType.(BInterface) { fmt.Println("ok") } else { fmt.Println("no") } 如果断言失败，那么 ok 的值将会是 false,但是如果断言成功 ok 的值将会是 true,同时 value 将会得到所期待的正确的值。
但是，在某些情况下，我们可能希望明确地检查接口中哪些方法没有被实现。最好的方法就是借助编译器地检查功能。
假设定义了一个 Programmer 接口，一个 Human 类型：
&#187;> 试一下
package main type Programmer interface { Code() string } type Human struct {} func main() {} 这段代码没有做任何操作，可以正常地执行。
假设我们希望 Human 类型实现了 Programmer 接口，可以在代码中定义一个 _ （下划线表示忽略这个变量）变量来实现检测效果
package main type Programmer interface { Code() string } type Human struct {} // 利用编译器检查接口实现 var _ Programmer = (*Human)(nil) func main() {} 当再次执行这段代码地时候，就会报出如下编译错误：
<a href=https://www.vimiix.com/posts/2019-08-29-how-to-ensure-a-type-implements-an-interface/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2019-03-28-use-hls-to-encrypt-video/>HLS视频加密</a></h1><b><time>2019.03.28 16:22</time></b>
<a href=/tags/note>note</a>
<a href=/tags/video>video</a>
<a href=/tags/encrypt>encrypt</a>
<a href=/tags/ffmpeg>ffmpeg</a>
<a href=/tags/hls>hls</a><div><blockquote><p>最近在做视频管理后台，主要提供点播服务，涉及到需要对视频进行加密处理以防止视频被随意下载。</p><p>调研了一番之后确定使用 HLS(HTTP Live Streaming) 基于 HTTP 的流媒体网络传输协议技术来处理视频。</p><p>所以本文主要记录关于学习 HLS 视频加密技术的笔记</p></blockquote><h3 id=为什么要加密>为什么要加密？</h3><p>简单的说就是：增加获取被加密资源的代价。对于视频这种资源来说，绝对的加密就是不要上线给人看，但那是不可能的，因为提供的服务就是给人看视频，只要上线，别人就可以通过各种手段解密或者简单的录屏的方式来传播，所以目前俩看，不存在绝对的加密。只要让恶意的人获取源视频的代价很大，就可以阻挡绝大多数的不法分子。这样，加密的目的也就基本达到了。</p><a href=https://www.vimiix.com/posts/2019-03-28-use-hls-to-encrypt-video/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2019-01-30-get-video-duration-by-upyun-sdk/>获取存储在又拍云CDN中视频的时长</a></h1><b><time>2019.01.30 16:22</time></b>
<a href=/tags/note>note</a>
<a href=/tags/video>video</a>
<a href=/tags/cdn>CDN</a>
<a href=/tags/%E5%8F%88%E6%8B%8D%E4%BA%91>又拍云</a><div><h3 id=前置条件>前置条件</h3><ul><li><p>可用的账户</p></li><li><p>安装又拍云 Python 版本的 SDK：</p></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>pip install upyun
</code></pre></div><p>（官方代码开源地址：<a href=https://github.com/upyun/python-sdk/>https://github.com/upyun/python-sdk/</a> )</p><a href=https://www.vimiix.com/posts/2019-01-30-get-video-duration-by-upyun-sdk/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-11-08-change-git-account-by-script/>快速切换本地Git用户记录</a></h1><b><time>2018.11.08 23:22</time></b>
<a href=/tags/git>git</a>
<a href=/tags/tool>tool</a>
<a href=/tags/bash>bash</a><div><p>现在大部分的科技公司开发模式，都是基于 Git 进行多人协作开发。所以，对于我们每一个开发者来说，Git 的操作就是必不可少的技能了（不是锦上添花，而是必不可少）。对于 Git 的操作，不是本次记录的内容，网上的<a href=https://git-scm.com/book/zh/v1/%E8%B5%B7%E6%AD%A5-Git-%E5%9F%BA%E7%A1%80>教程</a>可以在官网找到。</p><p>今天我想记录一下我本机多用户管理的一点小操作。</p><p>当每进入一家新公司的时候，总会在新公司领到一个新的公司邮箱，基本上这个邮箱也就是你在公司期间进行代码开发的 git 账户。这时候，加上我们平时在 <a href=https://github.com>GitHub</a> 的账户，就会有两个账户需要切换使用。</p><p>下面是我个人的一点小技巧记录，不一定是最好的，但只要自己用着方便就 OK，如果此时看文章的你有好的方法的话，可以请在讨论区交流。</p><a href=https://www.vimiix.com/posts/2018-11-08-change-git-account-by-script/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-10-29-move-qiniuyun-to-alioss-analysis/>从七牛云到阿里云的自动化迁移代码说明</a></h1><b><time>2018.10.29 23:22</time></b>
<a href=/tags/python>Python</a>
<a href=/tags/tool>tool</a><div><p>前几天叙事性的写了<a href=https://vimiix.com/post/2018/10/24/move-qiniuyun-to-alioss/>一篇</a>，有点像日记，这篇分析一下代码逻辑，便于以后回顾。</p><h3 id=工具>工具</h3><ul><li>python3.5</li><li>顺手的 IDE（轻量级推荐<a href=https://code.visualstudio.com/>vscode</a>）</li><li><a href=https://github.com/qiniu/qshell#%E4%B8%8B%E8%BD%BD>qiniu/qshell</a> （本文是基于 mac 系统开发，所以使用 qshell 的 mac 版本，读者请根据自己的系统下载，也可以直接跳至文末，下载本文源码，源码中 tool 文件夹中已经下载好了 mac 下的工具。这个工具只有一步使用到，所以如果只是使用一下，可以不用研究他的所有指令）</li></ul><a href=https://www.vimiix.com/posts/2018-10-29-move-qiniuyun-to-alioss-analysis/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-10-24-move-qiniuyun-to-alioss/>七牛云数据自动迁移到阿里云OSS</a></h1><b><time>2018.10.24 19:22</time></b>
<a href=/tags/python>Python</a>
<a href=/tags/tool>tool</a>
<a href=/tags/migrate>migrate</a><div><h3 id=背景>背景</h3><p>近期收到两封七牛云发来的邮件：</p><blockquote><p>测试域名回收通知</p><p>您的账号 xxx 在七牛云融合 CDN 加速平台有以下测试域名<strong>还剩 7 个自然日会被系统自动回收</strong></p></blockquote><p>由于，我博客所有的图片文件都是存储在七牛云的，这个域名也使用了一年多了，怎么突然要回收呢？</p><p>上网一搜才知道，大概是有什么不法分子之类的，使用七牛云的免费空间传播色情暴力之类的内容，被 Godday 制裁了，现在新申请的 bucket 只能使用一个月，要想绑定域名，还得备案操作。俺这小博客，也就自己玩玩的一个国外服务器，也备不了案啊。</p><p>无奈，看网上很多人都是被回收了才知道自己的图片都访问不了。还好我习惯性的看这些推送邮件，给自己留了一周时间用来备份转移。既然免费的不好用了，微博之类的图床不好迁移，所以就买了一年阿里云的 OSS 服务。</p><p>虽然我的图片还算不是很多，但要是一张一张手动下载再上传到阿里云，也是不小的工作量，而且太浪费时间了。</p><a href=https://www.vimiix.com/posts/2018-10-24-move-qiniuyun-to-alioss/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-10-21-solution-of-pipenv-install-error/>pipenv错误解决:TypeError: "module" object is not callable</a></h1><b><time>2018.10.21 11:22</time></b>
<a href=/tags/python>Python</a>
<a href=/tags/note>note</a>
<a href=/tags/pipenv>pipenv</a>
<a href=/tags/solution>solution</a><div><h3 id=软件版本>软件版本</h3><p>今天在折腾一台新的云主机，所以我在安装环境的时候<code>pip</code>和<code>pipenv</code>都选择安装了最新版本</p><p>（<em>注：正是这两个版本配合才会出现下面的报错，旧版本或以后的新版本的 Pipenv 不会出现</em>）。</p><p>具体如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>// pipenv 的版本 2018.7.1
$ pipenv --version
pipenv, version 2018.7.1

// pip 的版本 18.1
$ pip --version
pip 18.1 from /usr/bin/python3.6/lib/python3.6/site-packages/pip <span style=color:#f92672>(</span>python 3.6<span style=color:#f92672>)</span>
</code></pre></div><a href=https://www.vimiix.com/posts/2018-10-21-solution-of-pipenv-install-error/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-10-16-explore-the-problem-of-matplotlib-on-macosx/>macOXS中使用matplotlib遇到的问题及探究</a></h1><b><time>2018.10.16 11:22</time></b>
<a href=/tags/python>Python</a>
<a href=/tags/note>note</a>
<a href=/tags/matplotlib>matplotlib</a>
<a href=/tags/solution>solution</a><div><p>第一次在 mac 系统上使用<strong>matplotlib</strong>库的时候，在执行的时候，往往会遇到下面这样的问题：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ImportError: Python is not installed as a framework. balabala....
</code></pre></div><h3 id=解决方案>解决方案</h3><p>当然这个问题很好解决，网上有一搜就会找到如下两种解决方案：</p><h4 id=第一种方案是在系统中设置>第一种方案是在系统中设置：</h4><ul><li>假设你已经通过<code>pip install matplotlib</code>安装了 matplotlib，那么在你的根目录中会有一个名为<code>〜/ .matplotlib</code>的目录。</li><li>在这个目录中创建一个<code>matplotlibrc</code>的文件 ,在里面添加一行代码：<code>backend: TkAgg</code>，保存退出即可。</li></ul><p>总结为一行 shell 命令就是：<code>echo "backend: TkAgg" >> ~/.matplotlib/matplotlibrc</code></p><p>这种方式可以设定整个系统的 matplotlib 渲染使用的引擎，但是不好的是，代码会变得不可移植，如果服务器很多，我们需要每一台机器都去设置这个参数，这时候就需要使用第二种方案。</p><h4 id=第二种方案是在代码中设置>第二种方案是在代码中设置：</h4><p>在引用<code>matplotlib</code>库的代码之前，添加如下两行代码（确认安装 TkInter）：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> matplotlib
matplotlib<span style=color:#f92672>.</span>use(<span style=color:#e6db74>&#39;TkAgg&#39;</span>)
</code></pre></div><p>这样也可以临时的修改前面提到的 <code>backend</code>变量。</p><a href=https://www.vimiix.com/posts/2018-10-16-explore-the-problem-of-matplotlib-on-macosx/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-10-10-dont-just-learn-a-new-language-framework-implement-it-as-a-running-open-source-project/>[译]实践出真知</a></h1><b><time>2018.10.10 23:22</time></b>
<a href=/tags/note>note</a>
<a href=/tags/translation>translation</a><div>Aristotle（亚里士多德），希腊著名的哲学家和科学家，曾经说过：“对于那些我们在能做到之前必须学习如何做的事情，我们需要边做边学 (For the things we have to learn before we can do them, we learn by doing them.)”。想象一下，假如你已经读过 3 本关于骑行的书了，然后有人给你一辆自行车并让你骑它，你能骑吗？很显然，答案是“不能”。这无关乎你曾经读了多少关于骑行的书或你看了多少相关视频的事情。它需要你真正骑上一辆自行车，去保持平衡，去学习脚，手和眼睛的协调配合才能掌握的一件事情。学习新技术，新语言或框架同样也是如此。
如果现在你在想：我都不会某个语言或某个框架，我要怎么去实现这个开源项目呢，那么先停止抱怨。也许你是技术或编程的新手，但你需要知道如何去学习新事物。学习新东西的最好方法就是实践。这篇文章将重点关注普适通用的方法。它会帮助你从我想要学习&rsquo;X&rsquo;到我有一个项目在&rsquo;X&rsquo;运行，所以继续往下看。如果你决定通过做一个项目来学习新东西，那就把它开源吧。Github 是托管你的开源项目的首选服务商。在其上你可以享受很多的免费服务。这篇文章的编写主要面向编程起步者，但对于经验丰富的软件工程师也同样有用。
摘要（TLDR;） 通过编写项目来学习语言/框架，然后使用免费使用服务开源出去。不要只看课程，阅读文档，然后找到解决方案就完事，实践出真知。在项目中去使用 git 并尽量 docker 化。代码需要添加正确的代码质量检查服务以找到最佳实践，将项目部署到服务器上，让其可以对外通过 URL 访问。
不要只看课程，阅读文档，找到解决方案就完事 如今，学习新知识有很多选择。视频课程仍然是最受欢迎的媒介之一。你可以在Udemy，Pluralsight甚至Youtube上学习。在你边做边学之前，观看视频只会在某种程度上有所帮助，更好的方式是阅读官方手册。例如，阅读 React JS 文档比仅通过观看 React JS 课程更好。这样你会发现创作者的思想在其中。理清创作一个 Javascript 框架/库背后的逻辑会帮助你找到最合适的解决方案。
学习使用 Git 进行协作 “没有谁是一座孤岛” ，特别是在技术方面，你通常不会单独工作，肯定是作为团队的一员。因此，即使在学习新内容时，也要尝试找可以一起合作的人。与其它流行的代码协作工具相比，Git 非常受欢迎。当有超过 1 人为项目编写代码时，它是很有用的。你应该通过实践学习 git，可以通过查看Github 教程。我强烈推荐边做边学。当你将代码推送到 Github 之后，任何人都可以为你的项目贡献力量。
实现 docker 化，克服我的机器综合症 都8102 年了，如果你想让你的应用程序更易于使用，请使用Docker。这对于增加对开源项目的贡献也有很大帮助。使用docker compose在本地运行项目就像执行 2 个命令一样。Docker 有很多优点。对于初学者来说，这是一种确保你的应用可以在其他人的机器上以相同的方式运行的方法。在你部署应用程序的服务器上也是如此。只要它在 Docker 上运行良好，你就大可以放心，它保证可以在任何环境中无问题地运行。
<a href=https://www.vimiix.com/posts/2018-10-10-dont-just-learn-a-new-language-framework-implement-it-as-a-running-open-source-project/>Read more...</a></div></article><article><h1><a href=https://www.vimiix.com/posts/2018-08-27-running-your-flask-application-over-https/>[译]通过HTTPS协议运行你的Flask程序</a></h1><b><time>2018.08.27 17:22</time></b>
<a href=/tags/https>HTTPS</a>
<a href=/tags/ssl>SSL</a>
<a href=/tags/flask>Flask</a>
<a href=/tags/translation>translation</a><div><p>我们在开发 Flask 应用程序时，通常通过运行 Flask 自带的 Web 服务器来开发测试，这个服务器提供了基本的但功能完备的 WSGI 服务器。但开发结束以后，在应用程序上线到生成环境时，有很多不得不考虑的事情，其中之一是我们是否应该要求客户端使用加密连接以增加安全性。</p><p>人们总是问我这个问题，特别是如何在 HTTPS 协议上部署 Flask 服务器。在本文中，我将介绍几种为 Flask 应用程序添加加密的方案，从一个非常简单的可以在五秒内实现，到一个强大的就像我的网站一样可以得到一个 A +评级解决方案（<a href="https://www.ssllabs.com/ssltest/analyze.html?d=blog.miguelgrinberg.com">我的网站的 SSL 分析数据</a>）。</p><a href=https://www.vimiix.com/posts/2018-08-27-running-your-flask-application-over-https/>Read more...</a></div></article><div><a href=/>上一页</a>
2 of 9
<a href=/page/3/>下一页</a></div></main><footer><p><a href=https://github.com/vimiix><b>Github</b></a>.
<a href=https://www.douban.com/people/vimiix/><b>Douban</b></a>.
<a href=mailto:i@vimiix.com><b>Email</b></a>.<br>&copy; 2023
Copyright (c) 2017-2021, Vimiix Yao; All rights reserved.
<a href=https://beian.miit.gov.cn/>京ICP备19015214号-1</a></p></footer></body></html>